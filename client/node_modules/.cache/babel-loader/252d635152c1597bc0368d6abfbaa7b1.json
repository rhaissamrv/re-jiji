{"ast":null,"code":"var _jsxFileName = \"/home/rhaissa/Documents/Documents/Learning how to code/1. EvolveU/1. Projects/EvolveU_Project_2/evolveu-c6-project-02/client/src/components/ListingForm/NewListing.js\";\nimport React, { useState, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../Shared/components/context/auth-context'; // import Input from '../../Shared/components/FormElements/Input';\n// import Button from '../../Shared/components/FormElements/Button';\n\nimport { VALIDATOR_REQUIRE, VALIDATOR_MINLENGTH, VALIDATOR_MAXLENGTH, VALIDATOR_MIN } from '../util/validators';\nimport UseFormNewListing from './UseFormNewListing';\nimport Card from '../../Shared/components/UIElements/Card';\nimport validateInfoNewListing from './validateInfoNewListing';\nimport ListingCategories from '../../Shared/components/FormElements/ListingCategories'; // import ImageUpload from '../../Shared/components/FormElements/ImageUpload';\n\nimport './NewListing.css';\n\nconst NewListing = ({\n  submitForm\n}) => {\n  const auth = useContext(AuthContext);\n  const [saveError, setSaveError] = useState();\n  const userId = useParams();\n  const userIdString = userId.id;\n  const history = useHistory();\n\n  const onSave = async newListing => {\n    try {\n      const response = await fetch('/api/listings/create_listing', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newListing)\n      });\n      console.log('Create response is', response);\n\n      if (response.status !== 200) {\n        let errorMessage = await response.text();\n        console.log('We had an error.  it was: ', errorMessage);\n        setSaveError(errorMessage);\n      } else {\n        setSaveError(undefined); // go back to the list view!\n\n        history.push(`/user_profile/${userIdString}`);\n      }\n    } catch (error) {\n      // the server cannot be reached\n      console.error('Fetch failed to reach the server.');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UseFormNewListing, {\n    onSave: onSave,\n    saveError: saveError,\n    saveButtonCaption: \"Add Listing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  })); // const history = useHistory()\n  // const {handleChange, values, handleSubmit, errors} = useFormNewListing (\n  //   submitForm,\n  //   );\n  //   const userId = useParams().id\n  //   console.log(\"userId:\", userId)\n  //   return (\n  //     <form className=\"listing-form\" onSubmit={handleSubmit}>\n  //       <label>Category</label>\n  //       <select\n  //         className=\"form-input\"\n  //         // type=\"text\"\n  //         // name=\"category\"\n  //         value={values.category}\n  //         // onChange={handleChange}\n  //       >\n  //         <option value=\"Paper\">Paper</option>\n  //         <option value=\"Plastic\">Plastic</option>\n  //         <option value=\"Electronic\">Electronic</option>\n  //         <option value=\"Glass\">Glass</option>\n  //         <option value=\"Metal\">Metal</option>\n  //         <option value=\"Furniture\">Furniture</option>\n  //         <option value=\"Textile\">Textile</option>\n  //         <option value=\"Recyclables\">Recyclables</option>\n  //         <option value=\"Other\">Other</option>\n  //         {/* <ListingCategories id=\"plastic\" displayedCategory=\"Plastic\" />\n  //         <ListingCategories id=\"electronic\" displayedCategory=\"Electronic\" />\n  //         <ListingCategories id=\"glass\" displayedCategory=\"Glass\" />\n  //         <ListingCategories id=\"metal\" displayedCategory=\"Metal\" />\n  //         <ListingCategories id=\"furniture\" displayedCategory=\"Furniture\" />\n  //         <ListingCategories id=\"textile\" displayedCategory=\"Textile\" />\n  //         <ListingCategories id=\"recyclabes\" displayedCategory=\"Recyclables\" />\n  //         <ListingCategories id=\"other\" displayedCategory=\"Other\" /> */}\n  //         {/* {errors.category && <p>{errors.category}</p>} */}\n  //       </select>\n  //       <label>Title</label>\n  //       <input\n  //         className=\"form-input\"\n  //         type=\"text\"\n  //         placeholder=\"Enter a title\"\n  //         value={values.title}\n  //         // onChange={handleChange}\n  //       />\n  //       {/* {errors.title && <p>{errors.title}</p>} */}\n  //       <label>Description</label>\n  //       <textarea\n  //         className=\"form-input\"\n  //         type=\"text\"\n  //         placeholder=\"Enter a description\"\n  //         value={values.description}\n  //         // onChange={handleChange}\n  //       />\n  //       {errors.description && <p>{errors.description}</p>}\n  //       <label>Quantity</label>\n  //       <input\n  //         className=\"form-input\"\n  //         type=\"number\"\n  //         min=\"1\"\n  //         placeholder=\"Enter a quantity\"\n  //         value={values.quantity}\n  //         // onChange={handleChange}\n  //       />\n  //       {/* {errors.quantity && <p>{errors.quantity}</p>} */}\n  //       <label>Location</label>\n  //       <input\n  //         className=\"form-input\"\n  //         type=\"text\"\n  //         placeholder=\"Enter a location\"\n  //         value={values.location}\n  //         // onChange={handleChange}\n  //       />\n  //       {/*  IMAGE UPLOAD {errors.quantity && <p>{errors.quantity}</p>}\n  //       <label>Image</label>\n  //       <input\n  //         classname=\"form-input\"\n  //         type=\"file\"\n  //         placeholder=\"Enter an Image\"\n  //         onChange={handleChange}\n  //       /> */}\n  //       {/* {errors.location && <p>{errors.location}</p>} */}\n  //       <button className=\"form-input-btn\" type=\"submit\">\n  //         Add Listing\n  //       </button>\n  //     </form>\n  //   ); \n};\n\nexport default NewListing;","map":{"version":3,"sources":["/home/rhaissa/Documents/Documents/Learning how to code/1. EvolveU/1. Projects/EvolveU_Project_2/evolveu-c6-project-02/client/src/components/ListingForm/NewListing.js"],"names":["React","useState","useContext","useParams","useHistory","AuthContext","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","VALIDATOR_MAXLENGTH","VALIDATOR_MIN","UseFormNewListing","Card","validateInfoNewListing","ListingCategories","NewListing","submitForm","auth","saveError","setSaveError","userId","userIdString","id","history","onSave","newListing","response","fetch","method","headers","body","JSON","stringify","console","log","status","errorMessage","text","undefined","push","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,SAAQC,WAAR,QAA0B,8CAA1B,C,CACY;AACA;;AACA,SAASC,iBAAT,EAA4BC,mBAA5B,EAAiDC,mBAAjD,EAAsEC,aAAtE,QAA2F,oBAA3F;AACZ,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,IAAP,MAAiB,yCAAjB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,OAAOC,iBAAP,MAA8B,wDAA9B,C,CACA;;AAEA,OAAO,kBAAP;;AAGA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAoB;AACrC,QAAMC,IAAI,GAAGd,UAAU,CAACG,WAAD,CAAvB;AAEA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,EAA1C;AAEA,QAAMkB,MAAM,GAAGhB,SAAS,EAAxB;AAEA,QAAMiB,YAAY,GAAGD,MAAM,CAACE,EAA5B;AAEA,QAAMC,OAAO,GAAGlB,UAAU,EAA1B;;AAEA,QAAMmB,MAAM,GAAG,MAAOC,UAAP,IAAsB;AACnC,QAAG;AACD,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAAD,EAAiC;AACzDC,QAAAA,MAAM,EAAE,MADiD;AAEzDC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFgD;AAKzDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,UAAf;AALmD,OAAjC,CAA5B;AAQAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCR,QAAlC;;AACM,UAAIA,QAAQ,CAACS,MAAT,KAAoB,GAAxB,EAA6B;AACzB,YAAIC,YAAY,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAzB;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CE,YAA1C;AACAjB,QAAAA,YAAY,CAACiB,YAAD,CAAZ;AACH,OAJD,MAKK;AACDjB,QAAAA,YAAY,CAACmB,SAAD,CAAZ,CADC,CAED;;AACAf,QAAAA,OAAO,CAACgB,IAAR,CAAc,iBAAgBlB,YAAa,EAA3C;AAEP;AACF,KArBH,CAqBI,OAAOmB,KAAP,EAAc;AACV;AACAP,MAAAA,OAAO,CAACO,KAAR,CAAc,mCAAd;AACH;AACN,GA1BD;;AA4BA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,iBAAD;AACI,IAAA,MAAM,EAAEhB,MADZ;AAEI,IAAA,SAAS,EAAEN,SAFf;AAGI,IAAA,iBAAiB,EAAC,aAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADF,CAvCqC,CAgDrC;AAEA;AACA;AACA;AAEA;AACA;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEC,CA1ID;;AA2IA,eAAeH,UAAf","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport {AuthContext} from '../../Shared/components/context/auth-context'\n            // import Input from '../../Shared/components/FormElements/Input';\n            // import Button from '../../Shared/components/FormElements/Button';\n            import { VALIDATOR_REQUIRE, VALIDATOR_MINLENGTH, VALIDATOR_MAXLENGTH, VALIDATOR_MIN } from '../util/validators';\nimport UseFormNewListing from './UseFormNewListing';\nimport Card from '../../Shared/components/UIElements/Card';\nimport validateInfoNewListing from './validateInfoNewListing';\nimport ListingCategories from '../../Shared/components/FormElements/ListingCategories';\n// import ImageUpload from '../../Shared/components/FormElements/ImageUpload';\n\nimport './NewListing.css';\n\n\nconst NewListing = ({ submitForm }) => {\n  const auth = useContext(AuthContext);\n\n  const [saveError, setSaveError] = useState()\n\n  const userId = useParams();\n\n  const userIdString = userId.id;\n  \n  const history = useHistory()\n  \n  const onSave = async (newListing) => {\n    try{\n      const response = await fetch('/api/listings/create_listing', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n        },\n          body: JSON.stringify(newListing)\n      })\n\n      console.log('Create response is', response)\n            if (response.status !== 200) {\n                let errorMessage = await response.text()\n                console.log('We had an error.  it was: ', errorMessage)\n                setSaveError(errorMessage)\n            }\n            else {\n                setSaveError(undefined)\n                // go back to the list view!\n                history.push(`/user_profile/${userIdString}`)\n            \n        }\n      } catch (error) {\n            // the server cannot be reached\n            console.error('Fetch failed to reach the server.')\n        }\n  }\n\n  return (\n    <Card>\n    <UseFormNewListing \n        onSave={onSave} \n        saveError={saveError} \n        saveButtonCaption=\"Add Listing\"\n    />\n    </Card>\n)\n  // const history = useHistory()\n\n  // const {handleChange, values, handleSubmit, errors} = useFormNewListing (\n  //   submitForm,\n  //   );\n\n  //   const userId = useParams().id\n  //   console.log(\"userId:\", userId)\n \n//   return (\n//     <form className=\"listing-form\" onSubmit={handleSubmit}>\n//       <label>Category</label>\n//       <select\n//         className=\"form-input\"\n//         // type=\"text\"\n//         // name=\"category\"\n//         value={values.category}\n//         // onChange={handleChange}\n//       >\n//         <option value=\"Paper\">Paper</option>\n//         <option value=\"Plastic\">Plastic</option>\n//         <option value=\"Electronic\">Electronic</option>\n//         <option value=\"Glass\">Glass</option>\n//         <option value=\"Metal\">Metal</option>\n//         <option value=\"Furniture\">Furniture</option>\n//         <option value=\"Textile\">Textile</option>\n//         <option value=\"Recyclables\">Recyclables</option>\n//         <option value=\"Other\">Other</option>\n        \n//         {/* <ListingCategories id=\"plastic\" displayedCategory=\"Plastic\" />\n//         <ListingCategories id=\"electronic\" displayedCategory=\"Electronic\" />\n//         <ListingCategories id=\"glass\" displayedCategory=\"Glass\" />\n//         <ListingCategories id=\"metal\" displayedCategory=\"Metal\" />\n//         <ListingCategories id=\"furniture\" displayedCategory=\"Furniture\" />\n//         <ListingCategories id=\"textile\" displayedCategory=\"Textile\" />\n//         <ListingCategories id=\"recyclabes\" displayedCategory=\"Recyclables\" />\n//         <ListingCategories id=\"other\" displayedCategory=\"Other\" /> */}\n//         {/* {errors.category && <p>{errors.category}</p>} */}\n//       </select>\n//       <label>Title</label>\n//       <input\n//         className=\"form-input\"\n//         type=\"text\"\n//         placeholder=\"Enter a title\"\n//         value={values.title}\n//         // onChange={handleChange}\n//       />\n//       {/* {errors.title && <p>{errors.title}</p>} */}\n//       <label>Description</label>\n//       <textarea\n//         className=\"form-input\"\n//         type=\"text\"\n//         placeholder=\"Enter a description\"\n//         value={values.description}\n//         // onChange={handleChange}\n//       />\n//       {errors.description && <p>{errors.description}</p>}\n//       <label>Quantity</label>\n//       <input\n//         className=\"form-input\"\n//         type=\"number\"\n//         min=\"1\"\n//         placeholder=\"Enter a quantity\"\n//         value={values.quantity}\n//         // onChange={handleChange}\n//       />\n//       {/* {errors.quantity && <p>{errors.quantity}</p>} */}\n//       <label>Location</label>\n//       <input\n//         className=\"form-input\"\n//         type=\"text\"\n//         placeholder=\"Enter a location\"\n//         value={values.location}\n//         // onChange={handleChange}\n//       />\n//       {/*  IMAGE UPLOAD {errors.quantity && <p>{errors.quantity}</p>}\n//       <label>Image</label>\n//       <input\n//         classname=\"form-input\"\n//         type=\"file\"\n//         placeholder=\"Enter an Image\"\n//         onChange={handleChange}\n//       /> */}\n//       {/* {errors.location && <p>{errors.location}</p>} */}\n//       <button className=\"form-input-btn\" type=\"submit\">\n//         Add Listing\n//       </button>\n//     </form>\n//   ); \n\n}\nexport default NewListing;"]},"metadata":{},"sourceType":"module"}