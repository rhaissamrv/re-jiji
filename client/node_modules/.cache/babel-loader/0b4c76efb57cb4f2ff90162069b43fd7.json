{"ast":null,"code":"var _jsxFileName = \"/home/rhaissa/Documents/Documents/Learning how to code/1. EvolveU/1. Projects/EvolveU_Project_2/evolveu-c6-project-02/client/src/Pages/ListingsPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Card from \"../Shared/components/UIElements/Card\";\nimport \"./ListingsPage.css\";\n\nconst ListingsPage = () => {\n  const [loadListings, setLoadListings] = useState([]);\n  useEffect(() => {\n    const fetchListings = async () => {\n      let allListings;\n\n      try {\n        allListings = await fetch(\"/api/listings\", {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        let listingsData = await allListings.json(); // console.log(\"listingsData:\", listingsData);\n\n        setLoadListings(listingsData.listings);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchListings();\n  }, []);\n  const getUserId = loadListings.map(listing => {\n    return listing.userId;\n  });\n  console.log(\"userId:\", getUserId);\n  useEffect(() => {\n    const fetchUser = async () => {\n      let listingCreator = await fetch(\"/api/users/\" + getUserId, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      let responseData = await listingCreator.json();\n      console.log(\"responseData:\", responseData);\n    };\n\n    fetchUser();\n  }, []); // const getUserName = responseData.map((userInfo) => {\n  //   return (\n  //     userInfo.username\n  //   )\n  // })\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \" All Listings \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile-wrap-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, loadListings.map(listing => {\n    return /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, \"Title: \", listing.title, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }, \"Category: \", listing.category, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }, \"Image: \", listing.image, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }, \"Description: \", listing.description, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, \"Quantity: \", listing.quantity, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, \"Location: \", listing.location, \" \")));\n  }))));\n};\n\nexport default ListingsPage;","map":{"version":3,"sources":["/home/rhaissa/Documents/Documents/Learning how to code/1. EvolveU/1. Projects/EvolveU_Project_2/evolveu-c6-project-02/client/src/Pages/ListingsPage.js"],"names":["React","useState","useEffect","useHistory","Card","ListingsPage","loadListings","setLoadListings","fetchListings","allListings","fetch","method","headers","listingsData","json","listings","err","console","log","getUserId","map","listing","userId","fetchUser","listingCreator","responseData","title","category","image","description","quantity","location"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\nimport Card from \"../Shared/components/UIElements/Card\";\n\nimport \"./ListingsPage.css\";\n\nconst ListingsPage = () => {\n  const [loadListings, setLoadListings] = useState([]);\n\n  useEffect(() => {\n    const fetchListings = async () => {\n      let allListings;\n      try {\n        allListings = await fetch(\"/api/listings\", {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n        let listingsData = await allListings.json();\n        // console.log(\"listingsData:\", listingsData);\n\n        setLoadListings(listingsData.listings);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchListings();\n  }, []);\n\n  const getUserId = loadListings.map((listing) => {\n    return listing.userId\n  })\n  console.log(\"userId:\", getUserId);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n\n        let listingCreator = await fetch (\"/api/users/\"+getUserId,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n           }\n        });\n        let responseData = await listingCreator.json();\n            console.log(\"responseData:\", responseData);\n        }\n        fetchUser();\n        }, []);\n  \n  // const getUserName = responseData.map((userInfo) => {\n  //   return (\n  //     userInfo.username\n  //   )\n  // })\n  \n  \n\n  return (\n    <div className=\"main-div\">\n      <h2 className=\"h2\"> All Listings </h2>\n      <div>\n        <div className=\"user-profile-wrap-div\">\n          {loadListings.map((listing) => {\n            return (\n              <Card>\n                <div>\n                  <div>Title: {listing.title} </div>\n                  <div>Category: {listing.category} </div>\n                  <div>Image: {listing.image} </div>\n                  <div>Description: {listing.description} </div>\n                  <div>Quantity: {listing.quantity} </div>\n                  <div>Location: {listing.location} </div>\n                  {/* <div>User: {listing.userId} </div> */}\n                </div>\n              </Card>\n            );\n          })}\n          {}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ListingsPage;\n"]},"metadata":{},"sourceType":"module"}